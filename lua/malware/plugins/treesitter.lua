local treesitter = { 'nvim-treesitter/nvim-treesitter' }

treesitter.build = ':TSUpdate'
treesitter.event = 'VeryLazy'

treesitter.init = function (plugin)
   require ('lazy.core.loader').add_to_rtp (plugin)

   require('nvim-treesitter.query_predicates')
end

treesitter.config = function()
   local configs = require 'nvim-treesitter.configs'

   configs.setup {
      ensure_installed = {'lua', 'vimdoc', 'vim' },
      sync_install = false,
      highlight = {enable = true},
      indent = {enable = true},
    }
end

return { treesitter }
