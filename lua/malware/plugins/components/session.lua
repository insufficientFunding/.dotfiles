local lualine_require = require('lualine_require')
local session_name = lualine_require.require('lualine.component'):extend()
local highlight = require('lualine.highlight')

function session_name:init(options)
   session_name.super.init(self, options)

   self.color = highlight.create_component_highlight_group({ fg = '#e0be7b' }, 'session_highlight', self.options)
end

function session_name:update_status()
   if vim.v.this_session == nil then return end

   local data = vim.fn.fnamemodify(vim.v.this_session, ':t')
   data = data and 'ó°‰‹ ' .. data or ''

   data = highlight.component_format_highlight(self.color) .. data

   return data
end

return session_name
