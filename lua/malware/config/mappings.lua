local mappings = {}

mappings.insert = {
   -- Navigate within insert mode
   ['<M-h>'] = { '<Left>', 'Move left' },
   ['<M-l>'] = { '<Right>', 'Move right' },
   ['<M-j>'] = { '<Down>', 'Move down' },
   ['<M-k>'] = { '<Up>', 'Move up' },

   ['jj'] = { '<Esc>', 'Exit insert mode' },
}

mappings.terminal = {
   ['<C-x>'] = { vim.api.nvim_replace_termcodes('<C-\\><C-N>', true, true, true), 'Escape terminal mode' },
}

mappings.normal = {
   -- Cheat sheet --
   ['<leader>cs'] = { '<cmd> Cheatsheet <cr>', 'Open cheatsheet' },

   -- Nagivate between windows
   ['<M-h>'] = { '<C-w>h', 'Window left' },
   ['<M-l>'] = { '<C-w>l', 'Window right' },
   ['<M-j>'] = { '<C-w>j', 'Window down' },
   ['<M-k>'] = { '<C-w>k', 'Window up' },

   -- Save
   ['<C-s>'] = { '<cmd> w <cr>', 'Save file' },

   -- Bufferline
   ['<Tab>'] = { '<cmd> BufferLineCycleNext <cr>', 'Next tab' },
   ['<S-Tab>'] = { '<cmd> BufferLineCyclePrev <cr>', 'Previous tab' },

   -- Folding
   ['z'] = {
      R = { [[<cmd> lua require('ufo').openAllFolds() <cr>]], 'Open all folds' },
      M = { [[<cmd> lua require('ufo').closeAllFolds() <cr>]], 'Close all folds' },
   },

   -- Flutter --
   ['<leader>Fc'] = { '<cmd> Telescope flutter commands <cr>', 'Open flutter commands' },

   ['<leader>'] = {
      -- Outline
      o = { '<cmd> Vista nvim-lsp <cr>', 'Symbols outline' },

      -- Buffer
      x = { '<cmd> bd <cr>', 'Close buffer' },
      b = {
         name = '+buffer',

         d = { '<cmd> bw! <cr>', 'Delete buffer (wont fail if unsaved)' },
      },

      p = {
         name = '+project',
         v = {
            '<cmd> Triptych <cr>',
            'Toggle project view',
         },
      },

      c = {
         name = '+directory',

         d = { '<cmd> cd %:h <cr>', 'Set working directory to opened buffer', },
         f = { '<cmd> edit $MYVIMRC <cr> <cmd> cd %:h <cr>', 'Edit vim config', },
      },

      f = {
         name = '+file',

         f = { '<cmd> Telescope find_files <cr>', 'Find files' },
         g = { '<cmd> Telescope live_grep <cr>', 'Live grep' },
         b = { '<cmd> Telescope buffers <cr>', 'Buffers' },
         h = { '<cmd> Telescope help_tags <cr>', 'Help tags' },
      },
   },
}

return mappings
